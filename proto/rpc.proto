syntax = "proto3";

package connection;

service GameService {
    rpc Authentication(AuthenticationRequest) returns (AuthenticationResponse) {}
    rpc JoinPlayer(JoinPlayerRequest) returns (JoinPlayerResponse) {}
    rpc Ping(Ping) returns (Pong) {}
    rpc AwardPlayer(AwardRequest) returns (AwardResponse) {}
}

message Ping {
    uint32 online = 1;
    bool alive = 21;
}

message Pong {
    bool success = 1;
}

message AuthenticationRequest {
    string token = 1;
}

message AuthenticationResponse {
    string session = 1;
}

message JoinPlayerRequest {
    string token = 1;
}

message JoinPlayerResponse {
    string name = 1;
    Role role = 2;
}

message AwardRequest {
    string id = 1;
    optional uint32 vp = 2;
    optional string accessory = 3; 
}

message AwardResponse {
    bool success = 1;
}

enum Role {
    USER = 0;
    MOD = 1;
    DEV = 2;
}